<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Quiz Musical ‚Äì G√©n√©riques Manga 80s</title>
<style>
body { font-family: Arial, sans-serif; padding: 20px; background: #f0f0f0; }
h1, h2 { text-align: center; }
.intro { font-style: italic; margin-bottom: 10px; text-align: center; }
.rules { background:#fff; padding:15px; border-radius:8px; margin-bottom:20px; display:none; }
.question { background: #fff; padding: 15px; border-radius: 8px; margin-bottom: 20px; }
.answers label { display: block; margin: 5px 0; cursor: pointer; padding: 5px; border-radius: 5px; border: 1px solid #ccc; }
.correct { background-color: #a0e7a0; border-color: #70c070; }
.wrong { background-color: #f7a0a0; border-color: #e07070; }
#score { font-weight: bold; margin-top: 20px; text-align: center; }
.submit-btn { margin-top: 10px; padding: 8px 12px; cursor: pointer; border-radius: 5px; border: none; background-color: #0077cc; color: #fff; }
.submit-btn:hover { background-color: #005fa3; }
.excerpt { margin:10px 0; height:50px; background:#eee; border:1px dashed #ccc; display:flex; align-items:center; justify-content:center; }
#archive { position: fixed; bottom: 10px; left: 50%; transform: translateX(-50%); background: #fff; border: 1px solid #ccc; padding: 10px; border-radius: 8px; max-width: 400px; font-size: 14px; text-align: center; }
#archive ul { list-style:none; padding-left:0; margin:5px 0 0 0; }
</style>
</head>
<body>

<h1>üé§ Quiz Musical ‚Äì G√©n√©riques Manga des Ann√©es 80üé§</h1>

<p class="intro">
Bienvenue dans le temple de la nostalgie, l√† o√π les h√©ros crient fort, les robots brillent, et les g√©n√©riques restent bloqu√©s dans ta t√™te depuis les ann√©es 80 ! üé∂
</p>

<h2>üéÆ R√®gles du jeu :</h2>
<div style="text-align:center; margin:10px 0;">
<button id="toggle-rules" class="submit-btn">Voir / Cacher les r√®gles</button></div>

<div class="rules" id="rules-content">
  <ul>
    <li>4 questions mythiques, chacune avec 4 r√©ponses possibles.</li>
    <li>√âcoute l‚Äôextrait ou regarde l‚Äôimage et choisis UNE seule r√©ponse.</li>
    <li>Pas de triche ! Chaque bonne r√©ponse = 2 points.</li>
    <li>Apr√®s avoir valid√©, clique sur ‚ÄúQuestion suivante‚Äù pour passer √† la suivante.</li>
    <li>Score total affich√© √† la fin du quiz avec ton niveau de nostalgie !</li>
  </ul>
</div>

<div id="quiz">
  <p class="question">Ici appara√Ætront les questions...</p>
</div>

<div id="score">Score : 0</div>

<script>
const questions = [
  {
    question:"Quel dessin anim√© correspond √† cet extrait sonore ?",
    audio:"Albator,_le_corsaire_de_l'espace.mp3",
    answers:["Ulysse 31","Radma 1/2","Goldorak","Albator 78"],
    correct:3
  },
  
  {
    question:"Qui interpr√®te le c√©l√®bre g√©n√©rique de Candy ?",
    audio:"au_pays.mp3",
    answers:["Doroth√©e","Claude Lombard","Chantal Goya","H√©l√®ne Roll√®s"],
    correct:1
  },
  {
    question:"√Ä quel dessin anim√© appartient ce g√©n√©rique ?",
    audio:"LesChevaliersDuZodiaque.mp3",
    answers:["Princesse Sara","Dragon Ball","Les Chevaliers du Zodiaque","Cobra"],
    correct:2
  },
  {
    question:"√Ä quel dessin anim√© appartient ce g√©n√©rique ?",
    audio:"LesCitesDOr.mp3",
    image:"https://upload.wikimedia.org/wikipedia/fr/thumb/6/60/Logo_Cites_d%27Or.png/250px-Logo_Cites_d%27Or.png",
    answers:["Les Myst√©rieuses Cit√©s d‚ÄôOr","KEN le survivant","Samourai Pizza-Cats","Cats Eyes"],
    correct:0
  }
];

let current = 0;
let score = 0;

function showQuestion() {
  const q = questions[current];
  let html = `<div class="question"><p>${q.question}</p>`;
  if(q.audio) html += `<audio controls><source src="${q.audio}" type="audio/mp3">Votre navigateur ne supporte pas l'audio.</audio>`;
  if(q.image) html += `<div class="excerpt"><img src="${q.image}" style="max-height:100px;"></div>`;
  html += `<div class="answers">`;
  q.answers.forEach((a,i) => {
    html += `<label><input type="radio" name="answer" value="${i}"> ${a}</label>`;
  });
  html += `</div><button class="submit-btn" onclick="checkAnswer()">Valider</button></div>`;
  document.getElementById("quiz").innerHTML = html;
}

function checkAnswer() {
  const q = questions[current];
  const selected = document.querySelector('input[name="answer"]:checked');
  if(!selected) { alert("S√©lectionne une r√©ponse !"); return; }
  const answerIndex = parseInt(selected.value);
  const labels = document.querySelectorAll('.answers label');

  if(answerIndex === q.correct){
    labels[answerIndex].classList.add("correct");
    score += 2;
  } else {
    labels[answerIndex].classList.add("wrong");
    labels[q.correct].classList.add("correct");
  }

  document.getElementById("score").textContent = "Score : " + score;
  document.querySelectorAll('input[name="answer"]').forEach(i=>i.disabled=true);

  const btn = document.querySelector('.submit-btn');
  btn.textContent = "Question suivante";
  btn.onclick = nextQuestion;
}

function nextQuestion() {
  current++;
  if(current < questions.length) showQuestion();
  else document.getElementById("quiz").innerHTML = `<h2>üèÜ Quiz termin√© !</h2>
      <p style="text-align:center;">Score final : ${score} / ${questions.length*2}</p>
      <p style="text-align:center; margin-top:10px;">${getResult(score)}</p>`;
}

function getResult(score){
  if(score === 8) return "ü•á Super Saiyan du g√©n√©rique ‚Äî tu connais chaque note, chaque cri, chaque transformation.";
  if(score >= 6) return "ü•à H√©ros confirm√© ‚Äî t‚Äôas grandi avec Doroth√©e et tu l‚Äôassumes.";
  if(score >= 4) return "ü•â Apprenti otaku ‚Äî tu confonds Goldorak et Mazinger, mais tu progresses.";
  return "üí© Touriste temporel ‚Äî retourne vite r√©viser tes classiques, on t‚Äôattend √† la r√©cr√© !";
}

showQuestion();

document.getElementById("toggle-rules").addEventListener("click", function() {
  const rules = document.getElementById("rules-content");
  if (rules.style.display === "none" || rules.style.display === "") {
    rules.style.display = "block";
  } else {
    rules.style.display = "none";
  }
});


</script>
<div style="text-align:center; margin-top:20px;">
  <button class="submit-btn" id="rejouer-btn">üîÅ Rejouer</button>
</div>

<!-- Archive centr√©e en bas -->
<div id="archive">
  <strong>üìö Archive des g√©n√©riques :</strong>
  <ul>
    <li><a href="https://s-albator-78.mp3.pm/" target="_blank">Albator 78</a></li>
    <li><a href="https://archive.org/download/tvtunes_20639/Candy.mp3" target="_blank">Candy</a></li>
    <li><a href="https://archive.org/download/tvtunes_20639/LesMysterieusesCitesdOr.mp3" target="_blank">Les Myst√©rieuses Cit√©s d‚ÄôOr</a></li>
  </ul>
</div>

</body>
</html>
